$(document).ready(function() {
    $(".zero-configuration").DataTable();
    var o = $(".row-grouping").DataTable({
        columnDefs: [{
            visible: !1,
            targets: 2
        }],
        order: [
            [2, "asc"]
        ],
        displayLength: 10,
        drawCallback: function(a) {
            var o = this.api(),
                t = o.rows({
                    page: "current"
                }).nodes(),
                r = null;
            o.column(2, {
                page: "current"
            }).data().each(function(a, o) {
                r !== a && ($(t).eq(o).before('<tr class="group"><td colspan="5">' + a + "</td></tr>"), r = a)
            })
        }
    });
    $(".row-grouping tbody").on("click", "tr.group", function() {
        var a = o.order()[0];
        2 === a[0] && "asc" === a[1] ? o.order([2, "desc"]).draw() : o.order([2, "asc"]).draw()
    }), $(".complex-headers").DataTable();
    var a = $(".add-rows").DataTable(),
        t = 2;
    $("#addRow").on("click", function() {
        a.row.add([t + ".1", t + ".2", t + ".3", t + ".4", t + ".5"]).draw(!1), t++
    }), $(".dataex-html5-selectors").DataTable({
        dom: "Bfrtip",
        buttons: [{
            extend: "copyHtml5",
            exportOptions: {
                columns: [0, ":visible"]
            }
        }, {
            extend: "pdfHtml5",
            exportOptions: {
                columns: ":visible"
            }
        }, {
            text: "JSON",
            action: function(a, o, t, r) {
                var e = o.buttons.exportData();
                $.fn.dataTable.fileSave(new Blob([JSON.stringify(e)]), "Export.json")
            }
        }, {
            extend: "print",
            exportOptions: {
                columns: ":visible"
            }
        }]
    }), $(".scroll-horizontal-vertical").DataTable({
        scrollY: 200,
        scrollX: !0
    })
});


var data = {
    "data": [{
        "id": "1",
        "Payer Name": "Tawuniya	",
        "Policy Number": "17625357",
        "Endorsement Number": "0",
        "Receiving Date": "2019-11-06 03:01:50.0",
 
    }, {
        "id": "2",
        "Payer Name": "Tawuniya	",
        "Policy Number": "17625357",
        "Endorsement Number": "0",
        "Receiving Date": "2019-11-06 03:01:50.0",
    }, {
        "id": "3",
        "Payer Name": "Tawuniya	",
        "Policy Number": "17625357",
        "Endorsement Number": "0",
        "Receiving Date": "2019-11-06 03:01:50.0",
     
    }, {
        "id": "4",
        "Payer Name": "Tawuniya	",
        "Policy Number": "17625357",
        "Endorsement Number": "0",
        "Receiving Date": "2019-11-06 03:01:50.0",
 
    }, ]
}

function format(d) {
    // `d` is the original data object for the row
    return '<table cellpadding="4 cellspacing="0" border="0" style="padding-left:40px;">' +
   
      '<tr>' +
      '<td>You have been appointed for this policy Please here for details</td>' +
      '</tr>' +
      '</table>';
}

$(document).ready(function () {
    var table = $('#example').DataTable({
        "data": data.data,
        "columns": [{
            "orderable": false,
            "data": null,
            "defaultContent": ''
        }, {
            "data": "Payer Name"
        }, {
            "data": "Policy Number"
        }, {
            "data": "Endorsement Number"
        }, {
            "data": "Receiving Date"
        }],
        "order": [
          [1, 'asc']
        ],

        "createdRow": function (row, data, dataIndex) {
            if (data.extn !== "") {
                $(row).find("td:eq(0)").addClass('details-control');
            }
        }
    });

    // Add event listener for opening and closing details
    $('#example tbody').on('click', 'td.details-control', function () {
        var tr = $(this).closest('tr');
        var row = table.row(tr);

        if (row.child.isShown()) {
            // This row is already open - close it
            row.child.hide();
            tr.removeClass('shown');
        } else {
            // Open this row
            row.child(format(row.data())).show();
            tr.addClass('shown');
        }
    });
});
